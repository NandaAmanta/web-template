<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:fragment="header (title, keywords)">
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta th:keywords="${keywords}" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous"
            />
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />

        <script
            src="https://kit.fontawesome.com/4f83f0713b.js"
            crossorigin="anonymous"
        ></script>
        <link th:href="@{/style/style.css}" rel="stylesheet" />
        <title th:text="${title}">NFZero</title>
    </head>
    <body>


        <div th:fragment="script">
            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
            <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
            <script>
                AOS.init();

                $(window).scroll(function () {

                    if ($(window).scrollTop() > 0) {
                        document.getElementById("navbar").classList.add("bg-dark-nfz")
                        document.getElementById("navbar").classList.add("shadow")
                    } else {
                        if ($(window).width() > 991) {
                            document.getElementById("navbar").classList.remove("bg-dark-nfz")
                            document.getElementById("navbar").classList.remove("shadow")
                        }


                    }
                })
                $(document).ready(function () {

                    const navbarItems = document.querySelectorAll(".main-navbar-item")
                    const currentSubPathName = location.pathname.split("/")[1];
                    console.log(currentSubPathName);
                    switch (currentSubPathName) {
                        case "":
                            navbarItems[0].classList.add("active");
                            console.log("home");

                            break;
                        case "about":
                            navbarItems[1].classList.add("active");
                            console.log("about");

                            break;
                        case "services":
                            navbarItems[2].classList.add("active");
                            console.log("services");

                            break;
                        case "donation":
                            navbarItems[3].classList.add("active");
                            console.log("donation");

                            break;

                    }

                    if ($(window).width() <= 991) {
                        document.getElementById("navbar").classList.add("bg-dark-nfz")
                        document.getElementById("navbar").classList.add("shadow")
                    }

                    const scrollProgress = document.getElementById('scroll-progress');

                    window.addEventListener('scroll', () => {
                        let height = document.documentElement.scrollHeight - document.documentElement.clientHeight
                        const scrollTop =
                                document.body.scrollTop || document.documentElement.scrollTop;
                        scrollProgress.style.width = `${(scrollTop / height) * 100}%`;
                    });
                    $('.bg-dark-gradient').css({height: $(window).innerHeight()});
                    $(window).resize(function () {
                        $('.bg-dark-gradient').css({height: $(window).innerHeight()});
                    });
                    if ($(window).width() > 991) {
                        $(".navbar-light .d-menu").hover(
                                function () {
                                    $(this).find(".sm-menu").first().stop(true, true).slideDown(150);
                                },
                                function () {
                                    $(this)
                                            .find(".sm-menu")
                                            .first()
                                            .stop(true, true)
                                            .delay(120)
                                            .slideUp(100);
                                }
                        );
                    }
                });
            </script>
        </div>

    </body>
</html>